<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>ონლაინ მაღაზია</title>
  </head>
  <body>
  <div id="container">
	<h1>ონლაინ მაღაზია</h1>
	<div id="products">
	</div>
	<h3>კალათა</h3>
	<div id="cart">
	</div>
	<h3>დაანგარიშებული თანხა</h3>
	<div id="total">
	</div>
  </div>
  <script>
  // პროდუქტების მასივი
  var products = [
	["კომპიუტერი", 1900],
	["ლეპტოპი", 2500],
	["პლანშეტი", 150],
	["მობილური ტელეფონი", 900],
	["კომპიუტერული ნაწილები", 100]
  ];

  // პროდუქტების მშობელი ობიექტი
  var productsObj = document.getElementById("products");

  // ყველა პროდუქტის ობიექტის ჩამატება მშობელ ობიექტში
  for (var i = 0; i < products.length; i++) {
	var productId = i;
	var product = products[productId];
	var productName = product[0];
	var productPrice = product[1];

	var productObj = '';
	productObj += '<div id="product-' + productId + '">';
	productObj += '    <span id="name-' + productId + '">' + productName + '</span>';
	productObj += '    <span id="price-' + productId + '">' + productPrice + '</span>';
	productObj += '    <button id="id-' + productId + '" onclick="addcart(' + productId + ')">კალათაში დამატება</button>';
	productObj += '</div>';

	productsObj.innerHTML += productObj;
  }

  // კალათაში დამატების ფუნქცია
  function addcart(productID) {
	var productName = document.getElementById("name-" + productID).innerHTML;
	var productPrice = document.getElementById("price-" + productID).innerHTML;
	var cartObj = document.getElementById("cart");

	if (!document.getElementById("cart-product-" + productID)) {
		var productObj = '';
		productObj += '<div id="cart-product-' + productID + '">';
		productObj += '    <span id="cart-name-' + productID + '">' + productName + '</span>';
		productObj += '    <span id="cart-price-' + productID + '">' + productPrice + '</span>';
		productObj += '    <input type="number" id="cart-quantity-' + productID + '" value="1" min="1" onchange="cartCalculate(' + productID + ')">';
		productObj += '    <span id="cart-total-' + productID + '">' + productPrice + '</span>';
		productObj += '    <button id="cart-id-' + productID + '" onclick="removecart(' + productID + ')">კალათიდან ამოშლა</button>';
		productObj += '</div>';

		cartObj.innerHTML += productObj;
	}
  }

  // კალათიდან ამოშლის ფუნქცია
  function removecart(productID) {
	document.getElementById('cart-product-' + productID).outerHTML = '';
  }

  // კალათაში დაანგარიშების ფუნქცია
  function cartCalculate(productID) {
	var productPrice = document.getElementById('cart-price-' + productID).innerHTML;
	var productQuantity = document.getElementById('cart-quantity-' + productID).value;
	var productTotal = productPrice * productQuantity;

	document.getElementById('cart-total-' + productID).innerHTML = productTotal;
  }
  </script>
  </body>
</html>
